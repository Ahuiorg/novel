# Homepage - 横向时间线总览

## ADDED Requirements

### Requirement: 首页布局结构
系统 SHALL 采用「时空裂隙」横向叠层式布局，打破传统导航模式。

#### Scenario: 分层布局显示
- **WHEN** 用户访问首页
- **THEN** 显示四层固定布局结构
- **AND** Layer 0: 全屏星空粒子背景
- **AND** Layer 1: 顶部浮动栏（Logo + 功能按钮）
- **AND** Layer 2: 修为进度条
- **AND** Layer 3: 横向滚动时间线（核心区域）
- **AND** Layer 4: 底部导航栏

#### Scenario: 无传统导航
- **WHEN** 首页显示
- **THEN** 不显示传统的顶部导航栏
- **AND** Logo 和功能按钮融入顶部浮动层
- **AND** 次要页面入口放置于底部导航

---

### Requirement: 顶部浮动栏
系统 SHALL 在顶部显示半透明浮动栏，包含 Logo 和功能按钮。

#### Scenario: 顶部栏内容
- **WHEN** 首页显示
- **THEN** 左侧显示「仙逆」Logo
- **AND** 右侧显示搜索、设置、音效开关图标
- **AND** 背景使用毛玻璃效果（backdrop-filter: blur）

#### Scenario: Logo 点击
- **WHEN** 用户点击「仙逆」Logo
- **THEN** 时间线滚动回到第一个纪元

---

### Requirement: 修为进度条
系统 SHALL 显示横向修为进度条，与时间线完全同步滚动。

#### Scenario: 进度条显示
- **WHEN** 首页加载完成
- **THEN** 显示与纪元数量相同的节点
- **AND** 每个节点对应一个纪元
- **AND** 节点显示该纪元的时间范围和最高境界
- **AND** 当前聚焦的纪元节点高亮发光

#### Scenario: 完全同步滚动
- **WHEN** 用户横向滚动时间线
- **THEN** 进度条指示器以相同的滚动百分比移动
- **AND** 时间线滚动到 50% 位置时，进度条指示器也在 50% 位置
- **AND** 同步动画平滑流畅

#### Scenario: 点击进度条跳转
- **WHEN** 用户点击进度条上的纪元节点
- **THEN** 时间线平滑滚动到对应纪元
- **AND** 该纪元卡片居中并聚焦

#### Scenario: 进度条节点信息
- **WHEN** 用户悬停在进度条节点上
- **THEN** 显示该纪元的简要信息提示
- **AND** 包含时间范围和主要境界

---

### Requirement: 横向滚动时间线
系统 SHALL 以横向滚动方式展示纪元卡片，当前卡片居中放大。

#### Scenario: 卡片布局
- **WHEN** 时间线显示
- **THEN** 所有纪元卡片横向排列
- **AND** 当前聚焦的卡片居中显示
- **AND** 当前卡片放大（scale: 1.1）并发光
- **AND** 两侧卡片缩小（scale: 0.85）并降低透明度

#### Scenario: 滚动交互
- **WHEN** 用户使用鼠标滚轮
- **THEN** 时间线横向平滑滚动

#### Scenario: 拖拽交互
- **WHEN** 用户拖拽时间线区域
- **THEN** 时间线跟随手势移动
- **AND** 释放后有惯性滑动效果

#### Scenario: 键盘交互
- **WHEN** 用户按下左右方向键
- **THEN** 切换到上一个/下一个纪元
- **AND** 切换有平滑过渡动画

---

### Requirement: 纪元卡片内容
系统 SHALL 在纪元卡片中展示该时期的关键信息。

#### Scenario: 聚焦卡片内容
- **WHEN** 纪元卡片处于聚焦状态（居中）
- **THEN** 显示时间范围标题（如"仙逆年 102-410"）
- **AND** 显示故事概要（2-3 行）
- **AND** 显示主要地点列表
- **AND** 显示本尊和分身当前境界
- **AND** 显示新增神通/法宝标签
- **AND** 显示"查看详情"按钮
- **AND** 卡片边框发出金色光晕

#### Scenario: 非聚焦卡片内容
- **WHEN** 纪元卡片处于非聚焦状态（两侧）
- **THEN** 仅显示时间范围和简短标题
- **AND** 卡片透明度降低至 60%
- **AND** 无发光效果

#### Scenario: 点击卡片进入详情
- **WHEN** 用户点击聚焦状态的卡片或"查看详情"按钮
- **THEN** 触发破碎虚空转场效果
- **AND** 跳转到该纪元的详情页

---

### Requirement: 底部导航栏
系统 SHALL 在底部固定显示次要页面导航入口。

#### Scenario: 底部导航内容
- **WHEN** 首页显示
- **THEN** 底部显示三个导航入口：等级体系、收藏图鉴、关于
- **AND** 背景使用毛玻璃效果
- **AND** 不遮挡星空背景氛围

#### Scenario: 导航点击
- **WHEN** 用户点击底部导航项
- **THEN** 触发破碎虚空转场
- **AND** 跳转到对应页面

---

### Requirement: 背景氛围变化
系统 SHALL 根据当前浏览的纪元动态调整背景氛围。

#### Scenario: 早期纪元氛围
- **WHEN** 浏览凡人至化神期间的纪元
- **THEN** 背景色调偏深蓝黑色
- **AND** 粒子颜色以白色和淡蓝为主

#### Scenario: 中期纪元氛围
- **WHEN** 浏览问鼎至空涅期间的纪元
- **THEN** 背景增加紫色和金色元素
- **AND** 粒子更加璀璨密集

#### Scenario: 后期纪元氛围
- **WHEN** 浏览踏天境附近的纪元
- **THEN** 背景呈现混沌星云效果
- **AND** 金色光芒和雷电元素增强

---

### Requirement: 首页开场动画
系统 SHALL 在首次访问时播放开场动画。

#### Scenario: 开场动画播放
- **WHEN** 用户首次访问首页
- **THEN** 播放简短开场：星点汇聚 → 时间线展开
- **AND** 动画持续约 2-3 秒

#### Scenario: 跳过开场动画
- **WHEN** 用户点击屏幕或按任意键
- **THEN** 立即跳过开场动画
- **AND** 直接显示完整首页

#### Scenario: 非首次访问
- **WHEN** 用户非首次访问（localStorage 记录）
- **THEN** 跳过开场动画直接显示首页
